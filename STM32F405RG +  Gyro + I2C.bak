EESchema Schematic File Version 4
LIBS:STM32F405RG +  Gyro + I2C-cache
EELAYER 29 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 1
Title "STM32F405RG-GYRO-I2C-UART-USB"
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text GLabel 5200 7750 2    50   Input ~ 0
I2C_SDA
Wire Wire Line
	5100 7750 5200 7750
Text GLabel 5200 7850 2    50   Input ~ 0
I2C_SCL
Wire Wire Line
	5200 7850 5100 7850
$Comp
L Sensor_Motion:MPU-6050 U?
U 1 1 61399FBF
P 13450 2750
F 0 "U?" H 13850 3300 50  0000 C CNN
F 1 "MPU-6050" H 13850 3400 50  0000 C CNN
F 2 "Sensor_Motion:InvenSense_QFN-24_4x4mm_P0.5mm" H 13450 1950 50  0001 C CNN
F 3 "https://store.invensense.com/datasheets/invensense/MPU-6050_DataSheet_V3%204.pdf" H 13450 2600 50  0001 C CNN
	1    13450 2750
	1    0    0    -1  
$EndComp
Text GLabel 12450 2450 0    50   Input ~ 0
I2C_SDA
Text GLabel 12450 2550 0    50   Input ~ 0
I2C_SCL
$Comp
L power:GND #PWR0101
U 1 1 6139EB70
P 13450 3450
F 0 "#PWR0101" H 13450 3200 50  0001 C CNN
F 1 "GND" H 13455 3277 50  0000 C CNN
F 2 "" H 13450 3450 50  0001 C CNN
F 3 "" H 13450 3450 50  0001 C CNN
	1    13450 3450
	1    0    0    -1  
$EndComp
NoConn ~ 14150 2650
NoConn ~ 14150 2750
Wire Wire Line
	12450 2450 12750 2450
Wire Wire Line
	12450 2550 12750 2550
$Comp
L power:GND #PWR0102
U 1 1 613A6A9F
P 14800 3250
F 0 "#PWR0102" H 14800 3000 50  0001 C CNN
F 1 "GND" H 14805 3077 50  0000 C CNN
F 2 "" H 14800 3250 50  0001 C CNN
F 3 "" H 14800 3250 50  0001 C CNN
	1    14800 3250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small Ceramic_20
U 1 1 613A53A0
P 14800 3150
F 0 "Ceramic_20" H 14892 3196 50  0000 L CNN
F 1 "2.2nF" H 14892 3105 50  0000 L CNN
F 2 "" H 14800 3150 50  0001 C CNN
F 3 "~" H 14800 3150 50  0001 C CNN
	1    14800 3150
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0103
U 1 1 613AF6D0
P 14200 3250
F 0 "#PWR0103" H 14200 3000 50  0001 C CNN
F 1 "GND" H 14205 3077 50  0000 C CNN
F 2 "" H 14200 3250 50  0001 C CNN
F 3 "" H 14200 3250 50  0001 C CNN
	1    14200 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	14800 2950 14800 3050
Wire Wire Line
	14150 3050 14200 3050
$Comp
L Device:C_Small Ceramic_10
U 1 1 613AF6D6
P 14200 3150
F 0 "Ceramic_10" H 14300 3200 50  0000 L CNN
F 1 "0.1uF" H 14300 3100 50  0000 L CNN
F 2 "" H 14200 3150 50  0001 C CNN
F 3 "~" H 14200 3150 50  0001 C CNN
	1    14200 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	14150 2950 14800 2950
$Comp
L power:+3.3V #PWR0104
U 1 1 613B2B3F
P 13550 1700
F 0 "#PWR0104" H 13550 1550 50  0001 C CNN
F 1 "+3.3V" H 13565 1873 50  0000 C CNN
F 2 "" H 13550 1700 50  0001 C CNN
F 3 "" H 13550 1700 50  0001 C CNN
	1    13550 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	13550 1700 13550 1850
$Comp
L power:GND #PWR0105
U 1 1 613B6836
P 14350 2100
F 0 "#PWR0105" H 14350 1850 50  0001 C CNN
F 1 "GND" H 14355 1927 50  0000 C CNN
F 2 "" H 14350 2100 50  0001 C CNN
F 3 "" H 14350 2100 50  0001 C CNN
	1    14350 2100
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small Ceramic_VDD
U 1 1 613B683C
P 14350 2000
F 0 "Ceramic_VDD" H 14442 2046 50  0000 L CNN
F 1 "0.1uF" H 14442 1955 50  0000 L CNN
F 2 "" H 14350 2000 50  0001 C CNN
F 3 "~" H 14350 2000 50  0001 C CNN
	1    14350 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	14350 1850 14350 1900
Wire Wire Line
	14350 1850 13550 1850
Connection ~ 13550 1850
Wire Wire Line
	13550 1850 13550 2050
$Comp
L Device:R_Small R?
U 1 1 613B749F
P 11200 2050
F 0 "R?" H 11259 2096 50  0000 L CNN
F 1 "100k" H 11259 2005 50  0000 L CNN
F 2 "" H 11200 2050 50  0001 C CNN
F 3 "~" H 11200 2050 50  0001 C CNN
	1    11200 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 613B7F64
P 11200 2450
F 0 "R?" H 11259 2496 50  0000 L CNN
F 1 "150k" H 11259 2405 50  0000 L CNN
F 2 "" H 11200 2450 50  0001 C CNN
F 3 "~" H 11200 2450 50  0001 C CNN
	1    11200 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	11200 2150 11200 2250
Connection ~ 11200 2250
Wire Wire Line
	11200 2250 11200 2350
$Comp
L power:+1V8 #PWR0106
U 1 1 613BA0DF
P 11550 2250
F 0 "#PWR0106" H 11550 2100 50  0001 C CNN
F 1 "+1V8" V 11550 2350 50  0000 L CNN
F 2 "" H 11550 2250 50  0001 C CNN
F 3 "" H 11550 2250 50  0001 C CNN
	1    11550 2250
	0    1    1    0   
$EndComp
Wire Wire Line
	11200 2250 11550 2250
$Comp
L power:GND #PWR0107
U 1 1 613BBCC3
P 11200 2600
F 0 "#PWR0107" H 11200 2350 50  0001 C CNN
F 1 "GND" H 11205 2427 50  0000 C CNN
F 2 "" H 11200 2600 50  0001 C CNN
F 3 "" H 11200 2600 50  0001 C CNN
	1    11200 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	11200 2550 11200 2600
$Comp
L power:+3.3V #PWR0108
U 1 1 613BC743
P 11200 1800
F 0 "#PWR0108" H 11200 1650 50  0001 C CNN
F 1 "+3.3V" H 11215 1973 50  0000 C CNN
F 2 "" H 11200 1800 50  0001 C CNN
F 3 "" H 11200 1800 50  0001 C CNN
	1    11200 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	11200 1800 11200 1950
$Comp
L power:GND #PWR0109
U 1 1 613BD6A7
P 12500 2000
F 0 "#PWR0109" H 12500 1750 50  0001 C CNN
F 1 "GND" H 12505 1827 50  0000 C CNN
F 2 "" H 12500 2000 50  0001 C CNN
F 3 "" H 12500 2000 50  0001 C CNN
	1    12500 2000
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small Ceramic_VLOGIC
U 1 1 613BD6AD
P 12500 1900
F 0 "Ceramic_VLOGIC" H 12592 1946 50  0000 L CNN
F 1 "10nF" H 12592 1855 50  0000 L CNN
F 2 "" H 12500 1900 50  0001 C CNN
F 3 "~" H 12500 1900 50  0001 C CNN
	1    12500 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	12500 1800 12500 1750
Wire Wire Line
	12500 1750 13350 1750
Wire Wire Line
	13350 1750 13350 2050
$Comp
L power:+1V8 #PWR0110
U 1 1 613BEC95
P 12500 1600
F 0 "#PWR0110" H 12500 1450 50  0001 C CNN
F 1 "+1V8" H 12400 1750 50  0000 L CNN
F 2 "" H 12500 1600 50  0001 C CNN
F 3 "" H 12500 1600 50  0001 C CNN
	1    12500 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	12500 1600 12500 1750
Connection ~ 12500 1750
$Comp
L Device:R_Small R?
U 1 1 613A275A
P 6250 7800
F 0 "R?" H 6309 7846 50  0000 L CNN
F 1 "2.2k" H 6309 7755 50  0000 L CNN
F 2 "" H 6250 7800 50  0001 C CNN
F 3 "~" H 6250 7800 50  0001 C CNN
	1    6250 7800
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 613A40CC
P 6550 7800
F 0 "R?" H 6609 7846 50  0000 L CNN
F 1 "2.2k" H 6609 7755 50  0000 L CNN
F 2 "" H 6550 7800 50  0001 C CNN
F 3 "~" H 6550 7800 50  0001 C CNN
	1    6550 7800
	1    0    0    -1  
$EndComp
Text GLabel 6150 8300 0    50   Input ~ 0
I2C_SDA
Wire Wire Line
	6250 7550 6250 7700
Text GLabel 6150 8150 0    50   Input ~ 0
I2C_SCL
Wire Wire Line
	6550 7550 6550 7700
$Comp
L MCU_ST_STM32F4:STM32F405RGTx U?
U 1 1 6138CF9E
P 4400 6950
F 0 "U?" H 5000 5150 50  0000 C CNN
F 1 "STM32F405RGTx" H 5050 5050 50  0000 C CNN
F 2 "Package_QFP:LQFP-64_10x10mm_P0.5mm" H 3800 5250 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00037051.pdf" H 4400 6950 50  0001 C CNN
	1    4400 6950
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0113
U 1 1 613A8573
P 4300 8800
F 0 "#PWR0113" H 4300 8550 50  0001 C CNN
F 1 "GND" H 4305 8627 50  0000 C CNN
F 2 "" H 4300 8800 50  0001 C CNN
F 3 "" H 4300 8800 50  0001 C CNN
	1    4300 8800
	1    0    0    -1  
$EndComp
Wire Wire Line
	4300 8750 4400 8750
Wire Wire Line
	4500 8750 4400 8750
Connection ~ 4400 8750
Wire Wire Line
	4300 8750 4300 8800
Connection ~ 4300 8750
Wire Wire Line
	4200 5150 4200 5100
Wire Wire Line
	4200 5100 4300 5100
Wire Wire Line
	4300 5100 4300 5150
Wire Wire Line
	4300 5100 4400 5100
Wire Wire Line
	4600 5100 4600 5150
Connection ~ 4300 5100
Wire Wire Line
	4500 5150 4500 5100
Connection ~ 4500 5100
Wire Wire Line
	4500 5100 4600 5100
Wire Wire Line
	4400 5150 4400 5100
Connection ~ 4400 5100
Wire Wire Line
	4400 5100 4500 5100
$Comp
L power:+3.3V #PWR0114
U 1 1 613AF0A1
P 4200 5100
F 0 "#PWR0114" H 4200 4950 50  0001 C CNN
F 1 "+3.3V" H 4215 5273 50  0000 C CNN
F 2 "" H 4200 5100 50  0001 C CNN
F 3 "" H 4200 5100 50  0001 C CNN
	1    4200 5100
	1    0    0    -1  
$EndComp
Connection ~ 4200 5100
$Comp
L power:+3.3V #PWR0115
U 1 1 613B1320
P 4700 5100
F 0 "#PWR0115" H 4700 4950 50  0001 C CNN
F 1 "+3.3V" H 4715 5273 50  0000 C CNN
F 2 "" H 4700 5100 50  0001 C CNN
F 3 "" H 4700 5100 50  0001 C CNN
	1    4700 5100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4700 5100 4700 5150
$Comp
L power:+3.3V #PWR0116
U 1 1 613B3D4B
P 3550 4400
F 0 "#PWR0116" H 3550 4250 50  0001 C CNN
F 1 "+3.3V" H 3565 4573 50  0000 C CNN
F 2 "" H 3550 4400 50  0001 C CNN
F 3 "" H 3550 4400 50  0001 C CNN
	1    3550 4400
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small CPower_Ceramic
U 1 1 613B4C02
P 3550 4500
F 0 "CPower_Ceramic" H 2900 4550 50  0000 L CNN
F 1 "4.7uF" H 3150 4450 50  0000 L CNN
F 2 "" H 3550 4500 50  0001 C CNN
F 3 "~" H 3550 4500 50  0001 C CNN
	1    3550 4500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0117
U 1 1 613B5D08
P 3550 4650
F 0 "#PWR0117" H 3550 4400 50  0001 C CNN
F 1 "GND" H 3555 4477 50  0000 C CNN
F 2 "" H 3550 4650 50  0001 C CNN
F 3 "" H 3550 4650 50  0001 C CNN
	1    3550 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 4600 3550 4650
$Comp
L Device:C_Small CVCAP1_Ceramic
U 1 1 613B8E8F
P 2600 5850
F 0 "CVCAP1_Ceramic" H 2350 6100 50  0000 L CNN
F 1 "2.2uF" H 2550 6000 50  0000 L CNN
F 2 "" H 2600 5850 50  0001 C CNN
F 3 "~" H 2600 5850 50  0001 C CNN
	1    2600 5850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small CVCAP2_Ceramic
U 1 1 613BB232
P 3200 5950
F 0 "CVCAP2_Ceramic" H 2950 6200 50  0000 L CNN
F 1 "2.2uF" H 3100 6100 50  0000 L CNN
F 2 "" H 3200 5950 50  0001 C CNN
F 3 "~" H 3200 5950 50  0001 C CNN
	1    3200 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	3200 5850 3700 5850
Wire Wire Line
	2600 5750 3700 5750
$Comp
L power:GND #PWR0118
U 1 1 613C666D
P 2600 6100
F 0 "#PWR0118" H 2600 5850 50  0001 C CNN
F 1 "GND" H 2605 5927 50  0000 C CNN
F 2 "" H 2600 6100 50  0001 C CNN
F 3 "" H 2600 6100 50  0001 C CNN
	1    2600 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 5950 2600 6100
$Comp
L power:GND #PWR0119
U 1 1 613C7F21
P 3200 6100
F 0 "#PWR0119" H 3200 5850 50  0001 C CNN
F 1 "GND" H 3205 5927 50  0000 C CNN
F 2 "" H 3200 6100 50  0001 C CNN
F 3 "" H 3200 6100 50  0001 C CNN
	1    3200 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	3200 6050 3200 6100
$Comp
L Device:C_Small C_small
U 1 1 613CA957
P 3850 4500
F 0 "C_small" H 3900 4550 39  0000 L CNN
F 1 "100nF" H 3950 4450 39  0000 L CNN
F 2 "" H 3850 4500 50  0001 C CNN
F 3 "~" H 3850 4500 50  0001 C CNN
	1    3850 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	3850 4600 3850 4650
$Comp
L Device:C_Small C_small?
U 1 1 613D0F5C
P 4200 4500
F 0 "C_small?" H 4250 4550 39  0000 L CNN
F 1 "100nF" H 4300 4450 39  0000 L CNN
F 2 "" H 4200 4500 50  0001 C CNN
F 3 "~" H 4200 4500 50  0001 C CNN
	1    4200 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4200 4600 4200 4650
$Comp
L Device:C_Small C_small?
U 1 1 613D2AC4
P 4550 4500
F 0 "C_small?" H 4600 4550 39  0000 L CNN
F 1 "100nF" H 4650 4450 39  0000 L CNN
F 2 "" H 4550 4500 50  0001 C CNN
F 3 "~" H 4550 4500 50  0001 C CNN
	1    4550 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4550 4600 4550 4650
$Comp
L Device:C_Small C_small?
U 1 1 613D2ACB
P 4900 4500
F 0 "C_small?" H 4950 4550 39  0000 L CNN
F 1 "100nF" H 5000 4450 39  0000 L CNN
F 2 "" H 4900 4500 50  0001 C CNN
F 3 "~" H 4900 4500 50  0001 C CNN
	1    4900 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 4600 4900 4650
$Comp
L Device:C_Small C_small?
U 1 1 613D3BCC
P 5200 4500
F 0 "C_small?" H 5250 4550 39  0000 L CNN
F 1 "100nF" H 5300 4450 39  0000 L CNN
F 2 "" H 5200 4500 50  0001 C CNN
F 3 "~" H 5200 4500 50  0001 C CNN
	1    5200 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 4600 5200 4650
Wire Wire Line
	3550 4400 3850 4400
Connection ~ 3550 4400
Wire Wire Line
	3850 4400 4200 4400
Connection ~ 3850 4400
Wire Wire Line
	4200 4400 4550 4400
Connection ~ 4200 4400
Wire Wire Line
	4550 4400 4900 4400
Connection ~ 4550 4400
Wire Wire Line
	4900 4400 5200 4400
Connection ~ 4900 4400
Wire Wire Line
	3550 4650 3850 4650
Connection ~ 3550 4650
Wire Wire Line
	3850 4650 4200 4650
Connection ~ 3850 4650
Wire Wire Line
	4200 4650 4550 4650
Connection ~ 4200 4650
Wire Wire Line
	4550 4650 4900 4650
Connection ~ 4550 4650
Wire Wire Line
	4900 4650 5200 4650
Connection ~ 4900 4650
$Comp
L Device:LED D?
U 1 1 613E30A2
P 8750 1900
F 0 "D?" V 8789 1782 50  0000 R CNN
F 1 "LED_RED" V 8698 1782 50  0000 R CNN
F 2 "" H 8750 1900 50  0001 C CNN
F 3 "~" H 8750 1900 50  0001 C CNN
	1    8750 1900
	0    -1   -1   0   
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 613E5386
P 8750 1450
F 0 "#PWR?" H 8750 1300 50  0001 C CNN
F 1 "+3.3V" H 8765 1623 50  0000 C CNN
F 2 "" H 8750 1450 50  0001 C CNN
F 3 "" H 8750 1450 50  0001 C CNN
	1    8750 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 1450 8750 1750
$Comp
L Device:R_Small R?
U 1 1 613E7C43
P 8750 2300
F 0 "R?" H 8809 2346 50  0000 L CNN
F 1 "10k" H 8809 2255 50  0000 L CNN
F 2 "" H 8750 2300 50  0001 C CNN
F 3 "~" H 8750 2300 50  0001 C CNN
	1    8750 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 2200 8750 2050
Wire Wire Line
	8750 2400 8750 2450
$Comp
L power:GND #PWR?
U 1 1 613EA5A8
P 8750 2450
F 0 "#PWR?" H 8750 2200 50  0001 C CNN
F 1 "GND" H 8755 2277 50  0000 C CNN
F 2 "" H 8750 2450 50  0001 C CNN
F 3 "" H 8750 2450 50  0001 C CNN
	1    8750 2450
	1    0    0    -1  
$EndComp
Text Notes 5400 8750 0    50   ~ 0
Pull-up resistors are needed for I2C to ensure the logical state. \nShould be in range 2k to 10k
Text GLabel 5200 7450 2    50   Input ~ 0
GYRO_INT
Wire Wire Line
	5200 7450 5100 7450
Text GLabel 14300 2450 2    50   Input ~ 0
GYRO_INT
Wire Wire Line
	14300 2450 14150 2450
NoConn ~ 12750 2650
Text Notes 10750 4650 0    50   ~ 0
AD0 (Address select pin) which is a I2C slave address select pin. \nWon't need since we wont connect two of the same gyros to the same I2C.\n\nINT (interrupt) pin which is an interrupt digital output pin and used to \ngive indication to the MCU that data is available to read from the MPU6050.\n\nFSYNC is used to sync the MP6050 with a videocamera etc. \nIf unused, connect to ground according to datasheet. \n\nCLKIN is optional external reference clock input. Connect to ground if unused, \nconnect to ground according to datasheet. 
$Comp
L power:GND #PWR?
U 1 1 61452EE7
P 12650 3100
F 0 "#PWR?" H 12650 2850 50  0001 C CNN
F 1 "GND" H 12655 2927 50  0000 C CNN
F 2 "" H 12650 3100 50  0001 C CNN
F 3 "" H 12650 3100 50  0001 C CNN
	1    12650 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	12750 2950 12650 2950
Wire Wire Line
	12650 2950 12650 3050
Wire Notes Line
	15700 900  15700 4750
Wire Notes Line
	10600 4750 10600 900 
Text Notes 8450 1150 0    50   ~ 0
LED Power indicator
Wire Wire Line
	12750 3050 12650 3050
Connection ~ 12650 3050
Wire Wire Line
	12650 3050 12650 3100
Text Notes 12250 1250 0    118  Italic 24
Gyroscope MPU6050
Wire Notes Line
	15700 4750 10600 4750
Wire Notes Line
	10600 900  15700 900 
$Comp
L STM32F405RG-+--Gyro-+-I2C-rescue:USB_B_Mini-Connector J?
U 1 1 614B9FE3
P 14100 6400
F 0 "J?" H 14100 6900 50  0000 C CNN
F 1 "USB_B_Mini" H 14100 6800 50  0000 C CNN
F 2 "" H 14250 6350 50  0001 C CNN
F 3 "~" H 14250 6350 50  0001 C CNN
	1    14100 6400
	1    0    0    -1  
$EndComp
Text GLabel 14600 6400 2    50   Input ~ 0
USB_CONN_D+
Wire Wire Line
	14600 6400 14400 6400
Wire Wire Line
	14600 6500 14400 6500
NoConn ~ 14400 6600
NoConn ~ 14000 6800
$Comp
L power:GND #PWR?
U 1 1 614E0094
P 14100 6850
F 0 "#PWR?" H 14100 6600 50  0001 C CNN
F 1 "GND" H 14105 6677 50  0000 C CNN
F 2 "" H 14100 6850 50  0001 C CNN
F 3 "" H 14100 6850 50  0001 C CNN
	1    14100 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	14100 6800 14100 6850
$Comp
L power:+5V #PWR?
U 1 1 614E38F0
P 14600 6200
F 0 "#PWR?" H 14600 6050 50  0001 C CNN
F 1 "+5V" H 14615 6373 50  0000 C CNN
F 2 "" H 14600 6200 50  0001 C CNN
F 3 "" H 14600 6200 50  0001 C CNN
	1    14600 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	14600 6200 14400 6200
Text GLabel 5200 6550 2    50   Input ~ 0
USB_OTG_FS_D+
Text GLabel 5200 6450 2    50   Input ~ 0
USB_OTG_FS_D-
Wire Wire Line
	5200 6550 5100 6550
Wire Wire Line
	5200 6450 5100 6450
$Comp
L Device:R_Small R?
U 1 1 614F89EA
P 2150 7150
F 0 "R?" H 2209 7196 50  0000 L CNN
F 1 "68" H 2209 7105 50  0000 L CNN
F 2 "" H 2150 7150 50  0001 C CNN
F 3 "~" H 2150 7150 50  0001 C CNN
	1    2150 7150
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 614F993F
P 1800 7850
F 0 "#PWR?" H 1800 7600 50  0001 C CNN
F 1 "GND" H 1805 7677 50  0000 C CNN
F 2 "" H 1800 7850 50  0001 C CNN
F 3 "" H 1800 7850 50  0001 C CNN
	1    1800 7850
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal_GND24_Small Y?
U 1 1 614FD5B0
P 1800 7450
F 0 "Y?" H 1650 7750 50  0000 L CNN
F 1 "16MHz" H 1600 7650 50  0000 L CNN
F 2 "" H 1800 7450 50  0001 C CNN
F 3 "~" H 1800 7450 50  0001 C CNN
	1    1800 7450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 7350 1800 7300
Wire Wire Line
	1800 7300 1950 7300
Wire Wire Line
	1950 7850 1800 7850
Connection ~ 1800 7850
Wire Wire Line
	1450 7450 1700 7450
Wire Wire Line
	1450 7850 1800 7850
Wire Wire Line
	2150 7450 1900 7450
Wire Wire Line
	2150 7850 1950 7850
Connection ~ 1950 7850
Wire Wire Line
	1800 7550 1800 7850
Wire Wire Line
	1950 7300 1950 7850
$Comp
L Device:C_Small C?
U 1 1 61535C39
P 2150 7650
F 0 "C?" H 2242 7696 50  0000 L CNN
F 1 "10pF" H 2242 7605 50  0000 L CNN
F 2 "" H 2150 7650 50  0001 C CNN
F 3 "~" H 2150 7650 50  0001 C CNN
	1    2150 7650
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 6153A0E7
P 1450 7650
F 0 "C?" H 1542 7696 50  0000 L CNN
F 1 "10pF" H 1542 7605 50  0000 L CNN
F 2 "" H 1450 7650 50  0001 C CNN
F 3 "~" H 1450 7650 50  0001 C CNN
	1    1450 7650
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 7450 1450 7550
Wire Wire Line
	1450 7750 1450 7850
Wire Wire Line
	2150 7850 2150 7750
Wire Wire Line
	2150 7550 2150 7450
Text Notes 900  6750 0    39   ~ 0
Load resistor needs to have a tolerance of 30ppm = +-0.003 %\n
Wire Wire Line
	2150 7250 2150 7450
Connection ~ 2150 7450
Text GLabel 2400 7050 2    50   Input ~ 0
HSE_OUT
Text GLabel 2400 6900 2    50   Input ~ 0
HSE_IN
Wire Wire Line
	2150 7050 2400 7050
Wire Wire Line
	1450 7450 1450 6900
Wire Wire Line
	1450 6900 2400 6900
Connection ~ 1450 7450
Text GLabel 3550 6550 0    50   Input ~ 0
HSE_IN
Wire Wire Line
	3550 6550 3700 6550
Text GLabel 3550 6650 0    50   Input ~ 0
HSE_OUT
Wire Wire Line
	3550 6650 3700 6650
$Comp
L Power_Protection:USBLC6-2SC6 U?
U 1 1 613CB340
P 12050 6400
F 0 "U?" H 12450 6950 50  0000 C CNN
F 1 "USBLC6-2SC6" H 12450 6850 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-6" H 11300 6800 50  0001 C CNN
F 3 "http://www2.st.com/resource/en/datasheet/CD00050750.pdf" H 12250 6750 50  0001 C CNN
	1    12050 6400
	1    0    0    -1  
$EndComp
Text GLabel 14600 6500 2    50   Input ~ 0
USB_CONN_D-
$Comp
L power:GND #PWR?
U 1 1 613DE87B
P 12050 6900
F 0 "#PWR?" H 12050 6650 50  0001 C CNN
F 1 "GND" H 12055 6727 50  0000 C CNN
F 2 "" H 12050 6900 50  0001 C CNN
F 3 "" H 12050 6900 50  0001 C CNN
	1    12050 6900
	1    0    0    -1  
$EndComp
Text GLabel 12550 6500 2    50   Input ~ 0
USB_CONN_D+
$Comp
L power:+5V #PWR?
U 1 1 613F407C
P 11650 5900
F 0 "#PWR?" H 11650 5750 50  0001 C CNN
F 1 "+5V" H 11665 6073 50  0000 C CNN
F 2 "" H 11650 5900 50  0001 C CNN
F 3 "" H 11650 5900 50  0001 C CNN
	1    11650 5900
	1    0    0    -1  
$EndComp
Wire Wire Line
	11650 5900 12050 5900
Text GLabel 11550 6500 0    50   Input ~ 0
USB_CONN_D-
Text GLabel 11550 6300 0    50   Input ~ 0
USB_OTG_FS_D-
Text GLabel 12550 6300 2    50   Input ~ 0
USB_OTG_FS_D+
Text GLabel 3700 5550 0    50   Input ~ 0
BOOT0
Text GLabel 3700 5350 0    50   Input ~ 0
NRST
$Comp
L Device:Polyfuse_Small F?
U 1 1 614159D1
P 1550 1550
F 0 "F?" V 1345 1550 50  0000 C CNN
F 1 "250mA" V 1436 1550 50  0000 C CNN
F 2 "" H 1600 1350 50  0001 L CNN
F 3 "~" H 1550 1550 50  0001 C CNN
	1    1550 1550
	0    1    1    0   
$EndComp
$Comp
L power:+12V #PWR?
U 1 1 61416A07
P 950 1200
F 0 "#PWR?" H 950 1050 50  0001 C CNN
F 1 "+12V" H 965 1373 50  0000 C CNN
F 2 "" H 950 1200 50  0001 C CNN
F 3 "" H 950 1200 50  0001 C CNN
	1    950  1200
	1    0    0    -1  
$EndComp
$Comp
L Device:Q_PMOS_GSD Q?
U 1 1 61420894
P 2150 1650
F 0 "Q?" V 2493 1650 50  0000 C CNN
F 1 "Q_PMOS_GSD" V 2402 1650 50  0000 C CNN
F 2 "" H 2350 1750 50  0001 C CNN
F 3 "~" H 2150 1650 50  0001 C CNN
	1    2150 1650
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1950 1550 1650 1550
Wire Wire Line
	950  1200 950  1550
Wire Wire Line
	950  1550 1450 1550
$Comp
L power:GND #PWR?
U 1 1 61429BE3
P 2150 1850
F 0 "#PWR?" H 2150 1600 50  0001 C CNN
F 1 "GND" H 2155 1677 50  0000 C CNN
F 2 "" H 2150 1850 50  0001 C CNN
F 3 "" H 2150 1850 50  0001 C CNN
	1    2150 1850
	1    0    0    -1  
$EndComp
$Comp
L OllieKiCadLibrary:MP2359DJ-LF-Z U?
U 1 1 6144594D
P 5700 1300
F 0 "U?" H 5750 1350 50  0000 L CNN
F 1 "MP2359DJ-LF-Z" H 5500 1250 50  0000 L CNN
F 2 "" H 5700 1300 50  0001 C CNN
F 3 "" H 5700 1300 50  0001 C CNN
	1    5700 1300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 614468F5
P 5700 2200
F 0 "#PWR?" H 5700 1950 50  0001 C CNN
F 1 "GND" H 5705 2027 50  0000 C CNN
F 2 "" H 5700 2200 50  0001 C CNN
F 3 "" H 5700 2200 50  0001 C CNN
	1    5700 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 6144A0F4
P 4550 1650
F 0 "C?" H 4642 1696 50  0000 L CNN
F 1 "10uF" H 4642 1605 50  0000 L CNN
F 2 "" H 4550 1650 50  0001 C CNN
F 3 "~" H 4550 1650 50  0001 C CNN
	1    4550 1650
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 6144ABE3
P 4550 1850
F 0 "#PWR?" H 4550 1600 50  0001 C CNN
F 1 "GND" H 4555 1677 50  0000 C CNN
F 2 "" H 4550 1850 50  0001 C CNN
F 3 "" H 4550 1850 50  0001 C CNN
	1    4550 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4550 1750 4550 1850
Wire Wire Line
	4300 1550 4550 1550
Connection ~ 4550 1550
$Comp
L Device:Ferrite_Bead_Small FB?
U 1 1 6146E201
P 2900 1550
F 0 "FB?" V 3137 1550 50  0000 C CNN
F 1 "600 @ 600Mhz" V 3046 1550 50  0000 C CNN
F 2 "" V 2830 1550 50  0001 C CNN
F 3 "~" H 2900 1550 50  0001 C CNN
	1    2900 1550
	0    -1   -1   0   
$EndComp
Text GLabel 3250 1550 2    50   Input ~ 0
BUCK_IN
Wire Wire Line
	3250 1550 3000 1550
Text GLabel 4300 1550 0    50   Input ~ 0
BUCK_IN
$Comp
L Device:C_Small C?
U 1 1 614872AF
P 6300 1650
F 0 "C?" H 6392 1696 50  0000 L CNN
F 1 "10nF" H 6392 1605 50  0000 L CNN
F 2 "" H 6300 1650 50  0001 C CNN
F 3 "~" H 6300 1650 50  0001 C CNN
	1    6300 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	6050 1550 6300 1550
Wire Wire Line
	6050 1800 6300 1800
Wire Wire Line
	6300 1800 6300 1750
$Comp
L Device:D_Schottky_Small D?
U 1 1 61493AEE
P 6750 1900
F 0 "D?" V 6704 1968 50  0000 L CNN
F 1 "B230A" V 6795 1968 50  0000 L CNN
F 2 "" V 6750 1900 50  0001 C CNN
F 3 "~" V 6750 1900 50  0001 C CNN
	1    6750 1900
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 614A3559
P 6750 2000
F 0 "#PWR?" H 6750 1750 50  0001 C CNN
F 1 "GND" H 6755 1827 50  0000 C CNN
F 2 "" H 6750 2000 50  0001 C CNN
F 3 "" H 6750 2000 50  0001 C CNN
	1    6750 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	6300 1800 6750 1800
Connection ~ 6300 1800
$Comp
L Device:L_Small L?
U 1 1 614AAA0B
P 7050 1800
F 0 "L?" V 7235 1800 50  0000 C CNN
F 1 "4.7uH" V 7144 1800 50  0000 C CNN
F 2 "" H 7050 1800 50  0001 C CNN
F 3 "~" H 7050 1800 50  0001 C CNN
	1    7050 1800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6950 1800 6750 1800
Connection ~ 6750 1800
$Comp
L Device:R_Small R?
U 1 1 614AFDF0
P 7350 1950
F 0 "R?" H 7409 1996 50  0000 L CNN
F 1 "R_Small" H 7409 1905 50  0000 L CNN
F 2 "" H 7350 1950 50  0001 C CNN
F 3 "~" H 7350 1950 50  0001 C CNN
	1    7350 1950
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 614B0692
P 7350 2250
F 0 "R?" H 7409 2296 50  0000 L CNN
F 1 "R_Small" H 7409 2205 50  0000 L CNN
F 2 "" H 7350 2250 50  0001 C CNN
F 3 "~" H 7350 2250 50  0001 C CNN
	1    7350 2250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 614B4117
P 7900 1900
F 0 "C?" H 7992 1946 50  0000 L CNN
F 1 "22uF" H 7992 1855 50  0000 L CNN
F 2 "" H 7900 1900 50  0001 C CNN
F 3 "~" H 7900 1900 50  0001 C CNN
	1    7900 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 1800 7350 1800
Wire Wire Line
	7350 1800 7350 1850
Wire Wire Line
	7350 1800 7900 1800
Connection ~ 7350 1800
$Comp
L power:GND #PWR?
U 1 1 614CB510
P 7900 2200
F 0 "#PWR?" H 7900 1950 50  0001 C CNN
F 1 "GND" H 7905 2027 50  0000 C CNN
F 2 "" H 7900 2200 50  0001 C CNN
F 3 "" H 7900 2200 50  0001 C CNN
	1    7900 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	7900 2000 7900 2200
$Comp
L power:+3.3V #PWR?
U 1 1 614D3555
P 7900 1700
F 0 "#PWR?" H 7900 1550 50  0001 C CNN
F 1 "+3.3V" H 7915 1873 50  0000 C CNN
F 2 "" H 7900 1700 50  0001 C CNN
F 3 "" H 7900 1700 50  0001 C CNN
	1    7900 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7900 1700 7900 1800
Connection ~ 7900 1800
Text Notes 7750 1450 0    39   ~ 0
(3.3 @ 1.2A)\n
$Comp
L Device:R_Small R?
U 1 1 614ED992
P 5050 2200
F 0 "R?" H 5109 2246 50  0000 L CNN
F 1 "82k" H 5109 2155 50  0000 L CNN
F 2 "" H 5050 2200 50  0001 C CNN
F 3 "~" H 5050 2200 50  0001 C CNN
	1    5050 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4550 1550 5050 1550
$Comp
L Device:R_Small R?
U 1 1 614ED98C
P 5050 1900
F 0 "R?" H 5109 1946 50  0000 L CNN
F 1 "120k" H 5109 1855 50  0000 L CNN
F 2 "" H 5050 1900 50  0001 C CNN
F 3 "~" H 5050 1900 50  0001 C CNN
	1    5050 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 2050 5400 2050
Wire Wire Line
	5050 2000 5050 2050
Wire Wire Line
	5050 2100 5050 2050
Connection ~ 5050 2050
$Comp
L power:GND #PWR?
U 1 1 615095B9
P 5050 2300
F 0 "#PWR?" H 5050 2050 50  0001 C CNN
F 1 "GND" H 5055 2127 50  0000 C CNN
F 2 "" H 5050 2300 50  0001 C CNN
F 3 "" H 5050 2300 50  0001 C CNN
	1    5050 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 1800 5050 1550
Connection ~ 5050 1550
Wire Wire Line
	5050 1550 5400 1550
Text Notes 4400 2800 0    39   ~ 0
All pins except SW, BST and IN can only handle voltages between -0.3V and 6V. \n\n82k/(120k+82k) @ 5V (V_USB) = 2.029V\n82k/(120k+82k) @ 12V = 4.871V\n
Text GLabel 7250 2100 0    39   Input ~ 0
BUCK_FB
Wire Wire Line
	7350 2050 7350 2100
Wire Wire Line
	7250 2100 7350 2100
Connection ~ 7350 2100
Wire Wire Line
	7350 2100 7350 2150
$Comp
L power:GND #PWR?
U 1 1 6152CF1A
P 7350 2400
F 0 "#PWR?" H 7350 2150 50  0001 C CNN
F 1 "GND" H 7355 2227 50  0000 C CNN
F 2 "" H 7350 2400 50  0001 C CNN
F 3 "" H 7350 2400 50  0001 C CNN
	1    7350 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 2200 7350 2350
Connection ~ 7350 2350
Wire Wire Line
	7350 2350 7350 2400
Text GLabel 6200 2050 2    39   Input ~ 0
BUCK_FB
Wire Wire Line
	6050 2050 6200 2050
$Comp
L Device:D_Schottky_Small D?
U 1 1 61543EC5
P 2450 1250
F 0 "D?" V 2600 1150 50  0000 R CNN
F 1 "B5819W" V 2500 1200 50  0000 R CNN
F 2 "" V 2450 1250 50  0001 C CNN
F 3 "~" V 2450 1250 50  0001 C CNN
	1    2450 1250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2350 1550 2450 1550
Wire Wire Line
	2450 1350 2450 1550
Connection ~ 2450 1550
Wire Wire Line
	2450 1550 2800 1550
$Comp
L power:+5V #PWR?
U 1 1 6155DD6C
P 2450 1100
F 0 "#PWR?" H 2450 950 50  0001 C CNN
F 1 "+5V" H 2465 1273 50  0000 C CNN
F 2 "" H 2450 1100 50  0001 C CNN
F 3 "" H 2450 1100 50  0001 C CNN
	1    2450 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 1100 2450 1150
Text Notes 11600 2350 0    39   ~ 0
VLOGIC voltage
$Comp
L Connector_Generic:Conn_02x05_Odd_Even J?
U 1 1 615724AF
P 14000 8400
F 0 "J?" H 14300 8900 50  0000 C CNN
F 1 "Conn_02x05_Odd_Even" H 14350 8800 50  0000 C CNN
F 2 "" H 14000 8400 50  0001 C CNN
F 3 "~" H 14000 8400 50  0001 C CNN
	1    14000 8400
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 8150 6150 8150
Wire Wire Line
	6250 7900 6250 8150
Wire Wire Line
	6150 8300 6550 8300
Wire Wire Line
	6550 7900 6550 8300
$Comp
L power:+3.3V #PWR?
U 1 1 615AFFD4
P 6250 7550
F 0 "#PWR?" H 6250 7400 50  0001 C CNN
F 1 "+3.3V" H 6265 7723 50  0000 C CNN
F 2 "" H 6250 7550 50  0001 C CNN
F 3 "" H 6250 7550 50  0001 C CNN
	1    6250 7550
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 615B4BE6
P 6550 7550
F 0 "#PWR?" H 6550 7400 50  0001 C CNN
F 1 "+3.3V" H 6565 7723 50  0000 C CNN
F 2 "" H 6550 7550 50  0001 C CNN
F 3 "" H 6550 7550 50  0001 C CNN
	1    6550 7550
	1    0    0    -1  
$EndComp
NoConn ~ 13800 8500
$Comp
L power:+3V3 #PWR?
U 1 1 615BFA1D
P 13700 8200
F 0 "#PWR?" H 13700 8050 50  0001 C CNN
F 1 "+3V3" H 13600 8350 50  0000 L CNN
F 2 "" H 13700 8200 50  0001 C CNN
F 3 "" H 13700 8200 50  0001 C CNN
	1    13700 8200
	1    0    0    -1  
$EndComp
Wire Wire Line
	13700 8200 13800 8200
Wire Wire Line
	13800 8300 13750 8300
Wire Wire Line
	13750 8300 13750 8400
Wire Wire Line
	13750 8400 13800 8400
$Comp
L power:GND #PWR?
U 1 1 615EA0AC
P 13750 8650
F 0 "#PWR?" H 13750 8400 50  0001 C CNN
F 1 "GND" H 13755 8477 50  0000 C CNN
F 2 "" H 13750 8650 50  0001 C CNN
F 3 "" H 13750 8650 50  0001 C CNN
	1    13750 8650
	1    0    0    -1  
$EndComp
Wire Wire Line
	13750 8400 13750 8600
Connection ~ 13750 8400
Wire Wire Line
	13750 8600 13800 8600
Connection ~ 13750 8600
Wire Wire Line
	13750 8600 13750 8650
Text GLabel 5200 6650 2    50   Input ~ 0
SWDIO
Text GLabel 5200 7350 2    50   Input ~ 0
SWO
Text GLabel 5200 6750 2    50   Input ~ 0
SWCLK
Wire Wire Line
	5200 6650 5100 6650
Wire Wire Line
	5100 6750 5200 6750
Wire Wire Line
	5200 7350 5100 7350
Text GLabel 14300 8600 2    50   Input ~ 0
NRST
NoConn ~ 14300 8500
Text GLabel 14300 8400 2    50   Input ~ 0
SWO
Text GLabel 14300 8200 2    50   Input ~ 0
SWDIO
Text GLabel 14300 8300 2    50   Input ~ 0
SWCLK
Text Notes 2900 1150 0    39   ~ 0
The Schottky diode acts as an OR-gate. When the 12V power supply is connected, \nthere is 5V on the anode(+) and 12V on the cathode(-) resulting in the diode not conducting. \nWhen there only is 5V supplied from the USB, there is 5V on the anode(+) and ~4.5V on the cathode(-), \nmaking the diode conduct properly. \n
Text Notes 13400 7850 0    118  Italic 24
Serial Wire Debug\n\n
$EndSCHEMATC
